# <em>Web<sup>3</sup></em>

This repo uses VSCode's Dev Containers extension to standardize the development environment and avoid headache-inducing installation. All development will happen inside a Docker container which installs the same dependencies and versions on every developer's machine.

## Installation
0. Using Windows? First set up WSL 2.
    - Open Powershell as admin.
    - `wsl --install`  
    - `wsl --set-default-version 2`
    - `wsl --install -d Ubuntu-22.04`
    - `wsl --set-default Ubuntu-22.04`
    -  For more info: [Microsoft documentation](https://learn.microsoft.com/en-us/windows/wsl/install)


1. Install [Docker Desktop](https://www.docker.com/products/docker-desktop/).

    - Windows users: Make sure you select Use WSL 2 instead of Hyper-V 

2. Open a new VSCode window. Open the Command Palette (`Ctrl + Shift + P` / `Cmd + Shift + P`) and select `Dev Containers: Clone Repository in Container Volume...`. Select `GitHub`, then enter `fsek/WebWebWeb.git`.

3. After configuration has finished in the open terminal, it should say `Done. Press any key to close the terminal`. A bash terminal should exist in the terminal list next to `Configuring...`. Open it and run `uvicorn main:app --reload`.

4. Go to http://127.0.0.1:8000/docs for the Swagger page automatically generated by FastAPI ðŸŽ‰

## Play around
1. Try calling some routes. You will find some routes fail since you are not logged in. Find the "Authorize" button and login using boss@fsektionen.se `dabdab`. The database is already filled with some starting data. This was done in `seed.py` when the server started.

1. You can stop the FastAPI server anytime by entering `Ctrl+C` in the Bash terminal.

1. Run `python --version`. Every developer will run the same python version thanks to containers.

1. Run `pip list` to see all installed pip packages.


## Pip installing new packages
Our project will need packages not native to Python. FastAPI is one such dependency. The actual package files are not checked into Git. Instead, a file listing the required packages exists in the project.
The file `requirements.txt` lists all pip packages and versions needed. Install these by running:

`pip install -r ./requirements.txt`

When pulling or switching branch results in a changed `requirements.txt` you will have to re-run this command to update packages in your `.venv`.

